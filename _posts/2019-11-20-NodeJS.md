---
layout: post
title: Setting up a server using Node.js and Express
tag: Multiplayer browser game for smartphones
---

In this first tutorial we are going to create the server that will host our game.

A multiplayer game requires two components. A client and a server. The client is the webpage that will be opened on the device of the user. It shows the current game state to the player. Any input that the player does will be send to the server. The server then processes this input and sends a new game state to all connected players.

We are going to create the server using `Node.js`. This allows us to run javascript code on the server. This way we can create both the client and the server in the same codebase. `Node.js` also has many plugins that are very useful for creating a game like this.

First install `Node.js` from the official site: [nodejs.org/en/download](https://nodejs.org/en/download/).

Once installed, create a new folder for your game. Inside the folder create a file and open your commandline tool. Navigate to the newly created folder and run the command `npm init`. On windows, this will look something like this.

```
c:\> cd MultiplayerGame

c:\MultiplayerGame> npm init
```

This will create a new node project. It will ask you some questions on how you want to initialise the project. You can use the defaults for all of these and skip through all of them by hitting enter.

Create a new file inside the folder and name it `index.js`. This will become the file that runs the server. Open the file in your code editor. Let's start with a very basic node setup.

To make sure the server is accessable from a browser we need to use http. Let's start with a very simple example that will answer all http requests with a simple string.

```js
const http = require('http');

const port = 3000;

const server = http.createServer((req, res) => {
  res.end('Hi there!');
});

server.listen(port, () => {
  console.log(`Server running at *:${port}`);
});
```

This allows you to run the server locally. Inside your commandline tool run `node index.js`. 

```
c:\MultiplayerGame> node index.js
```

In your browser, go to `localhost:3000` and you should get a site with the string.

### Next

[Nodemon and Heroku]()

### Previous

[Introduction]()